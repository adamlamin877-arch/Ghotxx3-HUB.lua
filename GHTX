local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local frame = script.Parent
local flyButton = frame:WaitForChild("FlyButton")
local jumpButton = frame:WaitForChild("JumpButton")
local speedButton = frame:WaitForChild("SpeedButton")

-- Variables del vuelo
local flying = false
local speed = 60

-- Función de vuelo
local function toggleFly()
	flying = not flying

	if flying then
		humanoid.PlatformStand = true

		while flying do
			task.wait()
			local dir = Vector3.new()
			local cam = workspace.CurrentCamera

			local UIS = game:GetService("UserInputService")

			if UIS:IsKeyDown(Enum.KeyCode.W) then
				dir += cam.CFrame.LookVector
			end
			if UIS:IsKeyDown(Enum.KeyCode.S) then
				dir -= cam.CFrame.LookVector
			end
			if UIS:IsKeyDown(Enum.KeyCode.A) then
				dir -= cam.CFrame.RightVector
			end
			if UIS:IsKeyDown(Enum.KeyCode.D) then
				dir += cam.CFrame.RightVector
			end

			character:TranslateBy(dir * (speed * task.wait()))
		end

		humanoid.PlatformStand = false
	else
		humanoid.PlatformStand = false
	end
end

-- Función para saltar
local function bigJump()
	humanoid.Jump = true
	humanoid.JumpPower = 100
end

-- Función para velocidad
local function speedBoost()
	humanoid.WalkSpeed = 150
end

-- Conexiones
flyButton.MouseButton1Click:Connect(toggleFly)
jumpButton.MouseButton1Click:Connect(bigJump)
speedButton.MouseButton1Click:Connect(speedBoost)
